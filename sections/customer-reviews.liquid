{%- if section.blocks.size > 0 -%}
<h5>Customer Review</h5>
<div class="cards-grid">
    <div class="grid-{{ section.settings.grid_size }}">
      {%- for block in section.blocks -%}
        <div class="card" {{ block.shopify_attributes }}>
          <div class="card__content">
            {%- if block.settings.title != blank -%}
              <h6 class="card__title">{{ block.settings.title }}</h6>
            {%- endif -%}

            {%- if block.settings.description != blank -%}
              <p class="card__description">{{ block.settings.description }}</p>
            {%- endif -%}
          </div>

          {% if block.settings.ratings != 0 or block.settings.link != blank %}
            <div class="card__footer">
            {%- if block.settings.ratings >= 0 -%}
              <div>
              {% for i in (1..block.settings.ratings) %}
                {% render 'icon-star-solid' %}
              {% endfor %}
              </div>
            {%- endif -%}

            {%- if block.settings.link != blank -%}
              <a href="{{ block.settings.link }}">
                {% render 'icon-arrow-right-solid' %}
              </a>
            {%- endif -%}
            </div>
          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>
</div>
{%- endif -%}

{% schema %}
{
  "name": "Customer Reviews",
  "class": "customer-reviews-section",
  "max_blocks": 9,
  "settings": [
    {
      "type":      "range",
      "id":        "grid_size",
      "min":       1,
      "max":       3,
      "step":      1,
      "label":     "Cards per row",
      "default":   3
    }
  ],
  "blocks": [
    {
      "type": "card_list",
      "name": "Card",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Card Title",
          "default": "Customer Name"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Card Description",
          "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. In sed rhoncus ante. Suspendisse posuere laoreet nunc, a finibus tellus dictum ut."
        },
        {
          "type":      "range",
          "id":        "ratings",
          "min":       0,
          "max":       5,
          "step":      1,
          "label":     "Customer ratings",
          "default":   5
        },
        {
          "type": "url",
          "id": "link",
          "label": "Card Button",
          "info": "Optional"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Card",
      "category": "Text",
      "blocks": [
        {
          "type": "card_list"
        },
        {
          "type": "card_list"
        },
        {
          "type": "card_list"
        },
        {
          "type": "card_list"
        }
      ]
    }
  ]
}
{% endschema %}